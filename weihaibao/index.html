<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title></title>
<link rel="stylesheet" href="css/indexone.css" />
<script src="js/jquery.min.js"></script>
<style type="text/css">
a{display:inline-block; text-decoration:none;width:100px; height:40px;text-align:center;line-height: 40px; background:#fc6e90; font-weight:bold;font-size:20px;color:#ffffff;border-radius:5px;position:relative; overflow:hidden;}
input{position:absolute; right:0; top:0; font-size:100px; opacity:0;filter:alpha(opacity=0);background-color: rgba(255,255,255,0);}

.fileInput{width:102px;height:90px; background:url(images/index2.gif) no-repeat;background-size:90px 80px;overflow:hidden;position:relative;}
.upfile{position:absolute;top:-100px;}
.upFileBtn{width:100px;height:80px;opacity:0;filter:alpha(opacity=0);cursor:pointer;}
</style>
</head>
<body>
	<article>
		 <div class="indexone">
			<div class="upload">
				<p style="width:100%;height:25px"></p>
				<form method="post" action="1.php" enctype="multipart/form-data">
				<div class="camera">
					<div class="capic"><img src="images/index1.gif"/></div>
				</div>
				<p style="width:100%;height:20px"></p>
				<div class="picture">
					<div class="ppic">
						<div class="fileInput left">
				          <input type="file" name="upfile" id="upfile" style="display:none" class="upfile" onchange="document.getElementById('upfileResult').innerHTML=this.value"/>
				          <input class="upFileBtn" type="button" value="上传图片" onclick="document.getElementById('upfile').click()" />
				        </div>
				    </div>
				</div>
				<p style="width:100%;height:20px"></p>
				<div class="selecpic">
					<div class="spic">
						
							<a href="#">选择图片
							    <input type="file" name="file0" style="font-size:100px" capture="camera" accept="image/*" id="file0" multiple="multiple" value="选择图片"/>
							</a><br/>
							<!-- <input type="submit" style="width:50px;height:20px;font-size:16px" value="上传"/> -->
							<!-- <div class="xianshi" style="margin:0px auto;width:360px;height:640px;">
								<img class="uppic" id="img0" src="" border="0" width="0" height="0" onload="AutoResizeImage(360,640,this)">

										<script type="text/javascript">
										//图片等比例缩放
										function AutoResizeImage(maxWidth,maxHeight,objImg){
												var img = new Image();
												img.src = objImg.src;
												var hRatio;
												var wRatio;
												var Ratio = 1;
												var w = img.width;
												var h = img.height;
												wRatio = maxWidth / w;
												hRatio = maxHeight / h;
												if (maxWidth ==0 && maxHeight==0){
												    Ratio = 1;
												    }
												    else if (maxWidth==0){//
												        if (hRatio<1) Ratio = hRatio;
												           }else if (maxHeight==0){
												                 if (wRatio<1) Ratio = wRatio;
												                 }else if (wRatio<1 || hRatio<1){
												                       Ratio = (wRatio<=hRatio?wRatio:hRatio);
												                        }
												if (Ratio<1){
													w = w * Ratio;
													h = h * Ratio;
												    }
												objImg.height = h;
												objImg.width = w;
										       }
										</script>
							</div> -->
					</div>		
					<div style="width:180px;height:80px;padding-top:10px;position:relative;top:50px;z-index:50;text-align:center;color:#ffffff;font-size:20px">点击上传
				       <input type="submit" style="width:180px;height:50px;font-size:36px" value="点击上传"/>
			       </div>
					
				</div>
				
				
				</form>
			</div>
		</div> 
		<!-- <div class="fileInput left">
          <input type="file" name="upfile" id="upfile" class="upfile" onchange="document.getElementById('upfileResult').innerHTML=this.value"/>
          <input class="upFileBtn" type="button" value="上传图片" onclick="document.getElementById('upfile').click()" />
        </div> -->
	</article>
<script type="text/javascript">
	$(function(){
		  $("#upfile").change(function(){
			var objUrl = getObjectURL(this.files[0]) ;
               var file = document.getElementById("upfile").files;
			    console.log(file);
			    console.log(file[0].size);
			    console.log(file[0].type);
			    console.log(file[0].name);
			console.log("objUrl = "+objUrl) ;
			if (objUrl) {
				$("#img0").attr("src", objUrl) ;
				// $(".indexone").hide();
				// $(".xianshi").show();
			}
		}) ;
       $("#file0").change(function(){
			var objUrl = getObjectURL(this.files[0]) ;
               var file = document.getElementById("file0").files;
			    console.log(file);
			    console.log(file[0].size);
			    console.log(file[0].type);
			    console.log(file[0].name);
			console.log("objUrl = "+objUrl) ;
			if (objUrl) {
				$("#img0").attr("src", objUrl) ;
				// $(".indexone").hide();
				// $(".xianshi").show();
			}
		}) ;
		//建立一个可存取到该file的url
		function getObjectURL(file) {
			var url = null ; 

			if (window.createObjectURL!=undefined) { // basic
				url = window.createObjectURL(file) ;
			} else if (window.URL!=undefined) { // mozilla(firefox)
				url = window.URL.createObjectURL(file) ;
			} else if (window.webkitURL!=undefined) { // webkit or chrome
				url = window.webkitURL.createObjectURL(file) ;
			}
			return url ;
		}
	});
</script>
</body>
</html>